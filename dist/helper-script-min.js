// Halper.js Common ES/JS utility library
// https://github.com/ahabra/js-helper
// Copyright 2021 (C) Abdul Habra. Version 0.5.0.
// Apache License Version 2.0


var jshelper=(()=>{var M=Object.defineProperty;var f=(e,r)=>{for(var t in r)M(e,t,{get:r[t],enumerable:!0})};var he={};f(he,{Domer:()=>a,LineCompare:()=>d,Objecter:()=>l,Stringer:()=>p});var a={};f(a,{add:()=>re,all:()=>A,classPresentIf:()=>ie,createElement:()=>Y,createElements:()=>T,first:()=>V,getAttributes:()=>X,id:()=>Q,removeElements:()=>ne,setContent:()=>te,tag:()=>N});var l={};f(l,{equals:()=>w,forEachEntry:()=>c,has:()=>P,isDate:()=>x,isFunction:()=>h,isInteger:()=>I,isNil:()=>H,isNumber:()=>O,isRegExp:()=>y,isString:()=>o});function H(e){return e==null}function o(e){return s(e,"String")}function h(e){return s(e,"Function")}function x(e){return s(e,"Date")}function O(e){return s(e,"Number")?Number.isNaN(e)?!1:Number.isFinite(e):!o(e)||(e=e.trim(),e==="")?!1:!isNaN(e)}function I(e){return O(e)?Number.isInteger(Number.parseFloat(e)):!1}function y(e){return s(e,"RegExp")}function s(e,r){return Object.prototype.toString.call(e)===`[object ${r}]`}function c(e,r){if(!(!e||!r)){if(Array.isArray(e)){e.forEach((t,n)=>{r(n,t)});return}Object.entries(e).forEach(t=>r(t[0],t[1]))}}function P(e,r){return!e||!r?!1:Object.prototype.hasOwnProperty.call(e,r)}function w(e,r){return e===r?!0:e===void 0||r===void 0?!1:B(e,r)}function B(e,r){return L(e)||L(r)?e===r:_(e,r)}var z=new Set(["boolean","number","bigint","string","symbol"]);function L(e){return z.has(typeof e)}function _(e,r){return G(e,r)?J(e,r)?!0:K(e,r):!1}function G(e,r){return j(e)===j(r)}function j(e){return Object.prototype.toString.call(e)}function J(e,r){return x(e)&&x(r)?e.getTime()===r.getTime():!1}function K(e,r){let t=Object.keys(e);return t.length!==Object.keys(r).length?!1:t.every(n=>w(e[n],r[n]))}function Q(e,r=document){return b(r)&&(r=r.shadowRoot),r.getElementById(e)}function A(e,r=document){return b(r)&&(r=r.shadowRoot),Array.from(r.querySelectorAll(e))}function V(e,r=document){if(b(r)&&(r=r.shadowRoot),!e.includes("/"))return r.querySelector(e);let t=e.split("/").map(n=>n.trim()).filter(n=>n.length>0);for(let n of t)if(r=U(n,r),r===null)break;return r}function U(e,r){return e==="shadowRoot"||e==="shadow-root"?r.shadowRoot:r.querySelector(e)}function b(e){return e&&e.shadowRoot&&e.tagName.includes("-")}function X(e){let r={},t=e.attributes;if(!t||t.length===0)return r;for(let n=0;n<t.length;n++){let i=t[n];r[i.name]=i.value}return r}function T(e=""){if(e=e.trim(),!e)return[];let r=document.createElement("template");return r.innerHTML=e,Array.from(r.content.childNodes)}function Y(e,r={},t=""){let n=N(e,r,t),i=T(n);return i.length===0?null:i[0]}function N(e,r={},t=""){if(!e)return"";let n=Z(r);return`<${e}${n}>${t}</${e}>`}function Z(e){let r=[];return c(e,(n,i)=>{r.push(`${n}="${i}"`)}),(r.length>0?" ":"")+r.join(" ")}var k=new Set(["beforebegin","afterbegin","beforeend","afterend"]);function re(e,r,t="beforeend"){return t=t.toLowerCase(),k.has(t)?(o(r)?e.insertAdjacentHTML(t,r):ee(e,r,t),!0):!1}function ee(e,r,t){Array.isArray(r)?r.forEach(n=>e.insertAdjacentElement(t,n)):e.insertAdjacentElement(t,r)}function te(e,...r){e.innerHTML="",e.append(...r)}function ne(e,r=document){A(e,r).forEach(n=>{n.parentNode.removeChild(n)})}function ie(e,r,t){if(!e)return;let n=t?"add":"remove";e.classList[n](r)}var p={};f(p,{endsWith:()=>$,indexOf:()=>S,indexOfFirstMatch:()=>ue,indexOfLastMatch:()=>oe,isEmpty:()=>m,removePrefix:()=>R,removeSuffix:()=>q,removeSurrounding:()=>fe,replaceAll:()=>v,replaceTemplate:()=>le,startsWith:()=>C,strip:()=>me,stripEnd:()=>pe,stripStart:()=>ae,substringAfter:()=>se,substringBefore:()=>ce,trim:()=>g});function S(e,r,t=0,n=!1){return e?n?e.toLowerCase().indexOf(r.toLowerCase(),t):e.indexOf(r,t):-1}function ue(e,r){return!r||!e?-1:e.split("").findIndex(r)}function oe(e,r){if(!r||!e)return-1;let t=e.split("");for(let n=t.length;n>=0;--n)if(r(t[n],n))return n;return-1}function C(e="",r=void 0,t=!1){if(t){let n=e.substring(0,r.length).toLowerCase();return r.toLowerCase()===n}return e.startsWith(r)}function $(e,r,t=!1){return t?e.toLowerCase().endsWith(r.toLowerCase()):e.endsWith(r)}function R(e,r,t=!1){return C(e,r,t)&&(e=e.substring(r.length)),e}function q(e,r,t=!1){return $(e,r,t)&&(e=e.substring(0,e.length-r.length)),e}function fe(e,r,t,n=!1){return q(R(e,r,n),t,n)}function se(e,r,t=!1){if(!r)return e;let n=S(e,r,0,t);return n<0?"":e.substring(n+r.length)}function ce(e,r,t=!1){if(!r)return"";let n=S(e,r,0,t);return n<0?e:e.substring(0,n)}function g(e){return m(e)?"":(o(e)||(e=String(e)),e.trim(e))}function m(e){return e==null||e===""}function v(e,r,t){if(h(String.prototype.replaceAll))return e.replaceAll(r,t);if(y(r))return e.replace(r,t);let n=new RegExp(r,"g");return e.replace(n,t)}function le(e="",r={},t="${",n="}"){return c(r,(i,u)=>{u!==void 0&&(i=t+i+n,e=v(e,i,u))}),e}function ae(e,r=""){return m(e)?"":r?F(e,new Set(Array.from(r))):e}function F(e,r){for(let t=0;t<e.length;t++)if(!r.has(e.charAt(t)))return e.substring(t);return""}function pe(e,r=""){return m(e)?"":r?W(e,new Set(Array.from(r))):e}function W(e,r){for(let t=e.length-1;t>=0;t--)if(!r.has(e.charAt(t)))return e.substring(0,t+1);return""}function me(e,r=""){if(e===void 0||e==="")return"";if(!r)return e;let t=new Set(Array.from(r));return e=F(e,t),e?W(e,t):""}var d={};f(d,{compareLines:()=>de});function de(e,r,{trim:t=!0,skipEmpty:n=!0,caseSensitive:i=!0}={trim:!0,skipEmpty:!0,caseSensitive:!0}){if(e=D(e,{trim:t,skipEmpty:n}),r=D(r,{trim:t,skipEmpty:n}),e.length!==r.length)return`t1 has ${e.length} lines(s) while t2 has ${r.length} line(s).`;for(let u=0;u<e.length;u++){let E=ge(e[u],r[u],u,i);if(E.length>0)return E}return""}function ge(e,r,t,n){let i=n?e:e.toLowerCase(),u=n?r:r.toLowerCase();return i!==u?`Line #${t+1} mismatch.
${e}
${r}`:""}function D(e,{trim:r,skipEmpty:t}){return r&&(e=g(e)),e=e.split(`
`),r&&(e=e.map(n=>g(n))),t&&(e=e.filter(n=>!!n)),e}return he;})();
