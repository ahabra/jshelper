// Halper.js Common ES/JS utility library
// https://github.com/ahabra/js-helper
// Copyright 2022 (C) Abdul Habra. Version 0.5.1.
// Apache License Version 2.0


var jshelper=(()=>{var g=Object.defineProperty;var H=Object.getOwnPropertyDescriptor;var I=Object.getOwnPropertyNames;var P=Object.prototype.hasOwnProperty;var f=(e,r)=>{for(var t in r)g(e,t,{get:r[t],enumerable:!0})},B=(e,r,t,n)=>{if(r&&typeof r=="object"||typeof r=="function")for(let i of I(r))!P.call(e,i)&&i!==t&&g(e,i,{get:()=>r[i],enumerable:!(n=H(r,i))||n.enumerable});return e};var _=e=>B(g({},"__esModule",{value:!0}),e);var be={};f(be,{Domer:()=>E,LineCompare:()=>b,Objecter:()=>l,Stringer:()=>m});var E={};f(E,{add:()=>ue,all:()=>T,classPresentIf:()=>ce,createElement:()=>te,createElements:()=>N,first:()=>k,getAttributes:()=>re,id:()=>Z,removeElements:()=>se,setContent:()=>fe,tag:()=>$});var l={};f(l,{equals:()=>A,forEachEntry:()=>c,has:()=>J,isDate:()=>d,isFunction:()=>h,isInteger:()=>G,isNil:()=>z,isNumber:()=>j,isRegExp:()=>x,isString:()=>o});function z(e){return e==null}function o(e){return s(e,"String")}function h(e){return s(e,"Function")}function d(e){return s(e,"Date")}function j(e){return s(e,"Number")?Number.isNaN(e)?!1:Number.isFinite(e):!o(e)||(e=e.trim(),e==="")?!1:!isNaN(e)}function G(e){return j(e)?Number.isInteger(Number.parseFloat(e)):!1}function x(e){return s(e,"RegExp")}function s(e,r){return Object.prototype.toString.call(e)===`[object ${r}]`}function c(e,r){if(!(!e||!r)){if(Array.isArray(e)){e.forEach((t,n)=>{r(n,t)});return}Object.entries(e).forEach(t=>r(t[0],t[1]))}}function J(e,r){return!e||!r?!1:Object.prototype.hasOwnProperty.call(e,r)}function A(e,r){return e===r?!0:e===void 0||r===void 0?!1:K(e,r)}function K(e,r){return O(e)||O(r)?e===r:U(e,r)}var Q=new Set(["boolean","number","bigint","string","symbol"]);function O(e){return Q.has(typeof e)}function U(e,r){return V(e,r)?X(e,r)?!0:Y(e,r):!1}function V(e,r){return L(e)===L(r)}function L(e){return Object.prototype.toString.call(e)}function X(e,r){return d(e)&&d(r)?e.getTime()===r.getTime():!1}function Y(e,r){let t=Object.keys(e);return t.length!==Object.keys(r).length?!1:t.every(n=>A(e[n],r[n]))}function Z(e,r=document){return y(r)&&(r=r.shadowRoot),r.getElementById(e)}function T(e,r=document){return y(r)&&(r=r.shadowRoot),Array.from(r.querySelectorAll(e))}function k(e,r=document){if(y(r)&&(r=r.shadowRoot),!e.includes("/"))return r.querySelector(e);let t=e.split("/").map(n=>n.trim()).filter(n=>n.length>0);for(let n of t)if(r=ee(n,r),r===null)break;return r}function ee(e,r){return e==="shadowRoot"||e==="shadow-root"?r.shadowRoot:r.querySelector(e)}function y(e){return e&&e.shadowRoot&&e.tagName.includes("-")}function re(e){let r={},t=e.attributes;if(!t||t.length===0)return r;for(let n=0;n<t.length;n++){let i=t[n];r[i.name]=i.value}return r}function N(e=""){if(e=e.trim(),!e)return[];let r=document.createElement("template");return r.innerHTML=e,Array.from(r.content.childNodes)}function te(e,r={},t=""){let n=$(e,r,t),i=N(n);return i.length===0?null:i[0]}function $(e,r={},t=""){if(!e)return"";let n=ne(r);return`<${e}${n}>${t}</${e}>`}function ne(e){let r=[];return c(e,(n,i)=>{r.push(`${n}="${i}"`)}),(r.length>0?" ":"")+r.join(" ")}var ie=new Set(["beforebegin","afterbegin","beforeend","afterend"]);function ue(e,r,t="beforeend"){return t=t.toLowerCase(),ie.has(t)?(o(r)?e.insertAdjacentHTML(t,r):oe(e,r,t),!0):!1}function oe(e,r,t){Array.isArray(r)?r.forEach(n=>e.insertAdjacentElement(t,n)):e.insertAdjacentElement(t,r)}function fe(e,...r){e.innerHTML="",e.append(...r)}function se(e,r=document){T(e,r).forEach(n=>{n.parentNode.removeChild(n)})}function ce(e,r,t){if(!e)return;let n=t?"add":"remove";e.classList[n](r)}var m={};f(m,{endsWith:()=>R,indexOf:()=>S,indexOfFirstMatch:()=>le,indexOfLastMatch:()=>ae,isEmpty:()=>p,removePrefix:()=>q,removeSuffix:()=>v,removeSurrounding:()=>pe,replaceAll:()=>F,replaceTemplate:()=>de,startsWith:()=>C,strip:()=>ye,stripEnd:()=>xe,stripStart:()=>he,substringAfter:()=>me,substringBefore:()=>ge,trim:()=>a});function S(e,r,t=0,n=!1){return e?n?e.toLowerCase().indexOf(r.toLowerCase(),t):e.indexOf(r,t):-1}function le(e,r){return!r||!e?-1:e.split("").findIndex(r)}function ae(e,r){if(!r||!e)return-1;let t=e.split("");for(let n=t.length;n>=0;--n)if(r(t[n],n))return n;return-1}function C(e="",r=void 0,t=!1){if(t){let n=e.substring(0,r.length).toLowerCase();return r.toLowerCase()===n}return e.startsWith(r)}function R(e,r,t=!1){return t?e.toLowerCase().endsWith(r.toLowerCase()):e.endsWith(r)}function q(e,r,t=!1){return C(e,r,t)&&(e=e.substring(r.length)),e}function v(e,r,t=!1){return R(e,r,t)&&(e=e.substring(0,e.length-r.length)),e}function pe(e,r,t,n=!1){return v(q(e,r,n),t,n)}function me(e,r,t=!1){if(!r)return e;let n=S(e,r,0,t);return n<0?"":e.substring(n+r.length)}function ge(e,r,t=!1){if(!r)return"";let n=S(e,r,0,t);return n<0?e:e.substring(0,n)}function a(e){return p(e)?"":(o(e)||(e=String(e)),e.trim(e))}function p(e){return e==null||e===""}function F(e,r,t){if(h(String.prototype.replaceAll))return e.replaceAll(r,t);if(x(r))return e.replace(r,t);let n=new RegExp(r,"g");return e.replace(n,t)}function de(e="",r={},t="${",n="}"){return c(r,(i,u)=>{u!==void 0&&(i=t+i+n,e=F(e,i,u))}),e}function he(e,r=""){return p(e)?"":r?W(e,new Set(Array.from(r))):e}function W(e,r){for(let t=0;t<e.length;t++)if(!r.has(e.charAt(t)))return e.substring(t);return""}function xe(e,r=""){return p(e)?"":r?M(e,new Set(Array.from(r))):e}function M(e,r){for(let t=e.length-1;t>=0;t--)if(!r.has(e.charAt(t)))return e.substring(0,t+1);return""}function ye(e,r=""){if(e===void 0||e==="")return"";if(!r)return e;let t=new Set(Array.from(r));return e=W(e,t),e?M(e,t):""}var b={};f(b,{compareLines:()=>Ee});function Ee(e,r,{trim:t=!0,skipEmpty:n=!0,caseSensitive:i=!0}={trim:!0,skipEmpty:!0,caseSensitive:!0}){if(e=D(e,{trim:t,skipEmpty:n}),r=D(r,{trim:t,skipEmpty:n}),e.length!==r.length)return`t1 has ${e.length} lines(s) while t2 has ${r.length} line(s).`;for(let u=0;u<e.length;u++){let w=Se(e[u],r[u],u,i);if(w.length>0)return w}return""}function Se(e,r,t,n){let i=n?e:e.toLowerCase(),u=n?r:r.toLowerCase();return i!==u?`Line #${t+1} mismatch.
${e}
${r}`:""}function D(e,{trim:r,skipEmpty:t}){return r&&(e=a(e)),e=e.split(`
`),r&&(e=e.map(n=>a(n))),t&&(e=e.filter(n=>!!n)),e}return _(be);})();
